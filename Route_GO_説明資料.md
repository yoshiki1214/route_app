# Route GO - 営業向け訪問先管理アプリ
## 詳細説明資料

---

## 📖 目次

1. [システム概要](#システム概要)
2. [機能詳細](#機能詳細)
3. [画面仕様](#画面仕様)
4. [技術仕様](#技術仕様)
5. [データベース設計](#データベース設計)
6. [運用・保守](#運用保守)
7. [導入効果](#導入効果)
8. [FAQ](#faq)

---

## 🎯 システム概要

### アプリケーション名
**Route GO** - 営業向け訪問先管理アプリ

### 開発目的
営業担当者の訪問活動を効率化し、顧客管理とルート最適化を一元化することで、営業生産性の向上を実現する。

### ターゲットユーザー
- 外回り営業担当者
- 営業マネージャー
- 営業部門の管理者

### 主要な価値提案
1. **訪問効率の向上**: ルート最適化による移動時間削減
2. **情報の一元化**: 訪問先情報と訪問記録の統合管理
3. **リアルタイム追跡**: GPS位置情報による訪問活動の可視化
4. **データ活用**: 訪問履歴の蓄積による営業戦略の改善

---

## 🚀 機能詳細

### 1. 訪問先管理機能

#### 1.1 クライアント情報登録
**目的**: 訪問先の基本情報を体系的に管理

**機能詳細**:
- **基本情報**
  - 会社名（必須）
  - 住所（必須、地図連携用）
  - 電話番号
  - メールアドレス
  - 備考・特記事項

- **担当者情報**
  - 担当者名
  - 部署
  - 役職
  - 連絡先（電話・メール）

- **位置情報**
  - 緯度・経度（Google Maps APIで自動取得）
  - 住所の地図表示・確認

**入力方法**:
1. 手動入力による基本情報登録
2. 地図上での住所選択（Google Maps連携）
3. 住所からの自動座標取得

#### 1.2 クライアント情報編集・削除
- 既存情報の更新
- 不要なクライアント情報の削除
- 変更履歴の管理

### 2. 訪問記録管理機能

#### 2.1 訪問履歴の記録
**目的**: 訪問活動の詳細な記録と分析

**記録項目**:
- **訪問情報**
  - 訪問日時（必須）
  - 訪問タイプ（訪問/電話/オンライン）
  - 訪問ステータス（完了/予定/キャンセル/延期）
  - 訪問メモ・商談内容

- **位置情報**
  - 訪問時のGPS座標
  - 位置精度
  - 自動位置取得機能

#### 2.2 訪問記録の検索・分析
- 日付範囲での検索
- クライアント別の訪問履歴表示
- 訪問頻度の分析
- 訪問パターンの可視化

### 3. アポイントメント管理機能

#### 3.1 予定管理
**目的**: 訪問予定の効率的な管理

**機能詳細**:
- **アポイントメント作成**
  - 件名（必須）
  - 訪問先選択
  - 開始・終了時間設定
  - 滞在時間の自動計算
  - 訪問タイプ選択
  - 備考・持参物メモ

- **スケジュール管理**
  - カレンダー表示
  - 日別・週別・月別表示
  - 予定の編集・削除
  - 重複チェック機能

#### 3.2 Googleカレンダー連携（実装中）
- アポイントメントの自動同期
- 外部カレンダーとの連携
- 通知機能

### 4. ルート最適化機能

#### 4.1 最適ルート計算
**目的**: 複数訪問先の効率的なルート計画

**機能詳細**:
- **訪問先選択**
  - 複数クライアントの選択
  - 訪問順序の指定
  - 時間制約の設定

- **ルート計算**
  - Google Maps Directions API連携
  - 最適ルートの自動計算
  - 総距離・所要時間の表示
  - 交通状況の考慮

#### 4.2 ルート表示・ナビゲーション
- 地図上でのルート表示
- 詳細な道順指示
- リアルタイム交通情報
- 代替ルートの提案

### 5. 位置情報トラッキング機能

#### 5.1 リアルタイム位置追跡
**目的**: 訪問活動のリアルタイム監視と記録

**機能詳細**:
- **GPS位置取得**
  - リアルタイム位置情報取得
  - 位置精度の表示
  - バッテリー消費の最適化

- **訪問記録の自動化**
  - 訪問時の自動位置記録
  - 滞在時間の自動計算
  - 訪問範囲の判定

#### 5.2 位置情報管理
- 追跡開始/停止機能
- 位置情報の履歴管理
- プライバシー設定
- データの暗号化

---

## 🖥️ 画面仕様

### 1. ダッシュボード画面

#### 1.1 メイン画面構成
**URL**: `/`
**目的**: システムのメインハブとして機能

**画面構成**:
- **ヘッダー**
  - ロゴ・アプリ名
  - ユーザー情報
  - ログアウトボタン

- **タブナビゲーション**
  - 訪問先一覧タブ
  - 会社一覧タブ
  - ルート最適化タブ（別画面）

- **クイックアクション**
  - 新規クライアント登録
  - 新規訪問記録作成
  - 新規アポイントメント作成

#### 1.2 訪問先一覧タブ
- クライアント一覧表示
- 検索・フィルタ機能
- ソート機能（訪問日、距離順）
- ページネーション

#### 1.3 会社一覧タブ
- 登録済み会社の一覧表示
- 基本情報の確認
- 詳細画面への遷移

### 2. 訪問先詳細画面

#### 2.1 基本情報表示
**URL**: `/clients/{id}`
**目的**: クライアントの詳細情報と訪問履歴の管理

**画面構成**:
- **基本情報セクション**
  - 会社名・住所
  - 連絡先情報
  - 担当者情報
  - 地図表示

- **訪問履歴セクション**
  - 訪問記録一覧
  - 訪問日時・内容
  - ステータス表示

- **メモセクション**
  - クライアント固有のメモ
  - 特記事項

- **アクションボタン**
  - 新規訪問記録作成
  - アポイントメント作成
  - 情報編集

### 3. 訪問先作成画面

#### 3.1 新規登録フォーム
**URL**: `/clients/create`
**目的**: 新規クライアントの登録

**入力項目**:
- **必須項目**
  - 会社名
  - 住所

- **任意項目**
  - 電話番号
  - メールアドレス
  - 担当者名
  - 部署・役職
  - 備考

- **地図機能**
  - 住所入力による自動座標取得
  - 地図上での位置確認
  - 手動位置調整

### 4. 訪問記録作成画面

#### 4.1 訪問記録入力フォーム
**URL**: `/clients/{id}/visits/create`
**目的**: 訪問活動の記録

**入力項目**:
- **訪問情報**
  - 訪問日時（デフォルト：現在時刻）
  - 訪問タイプ選択
  - 訪問ステータス
  - 訪問メモ

- **位置情報**
  - 自動位置取得
  - 手動位置入力
  - 位置精度表示

### 5. アポイントメント管理画面

#### 5.1 アポイントメント一覧
**URL**: `/appointments`
**目的**: 予定の一覧表示と管理

**表示内容**:
- アポイントメント一覧
- 日付・時間
- 訪問先情報
- ステータス
- アクション（編集・削除）

#### 5.2 新規アポイントメント作成
**URL**: `/appointments/create`
**目的**: 新規予定の作成

**入力項目**:
- 件名
- 訪問先選択
- 開始・終了時間
- 訪問タイプ
- 備考

---

## 💻 技術仕様

### システム構成

#### フロントエンド
- **Laravel Livewire Volt**: リアクティブなUI構築
- **TailwindCSS**: モダンなデザインシステム
- **Alpine.js**: 軽量なJavaScriptフレームワーク
- **Vite**: 高速なアセットビルド
- **Blade Components**: 再利用可能なUI部品

#### バックエンド
- **Laravel 12.x**: PHP 8.4+対応のWebフレームワーク
- **MySQL/MariaDB**: リレーショナルデータベース
- **Eloquent ORM**: データベース操作
- **Laravel Sail**: Docker開発環境
- **Laravel Sanctum**: 認証システム

#### 外部API連携
- **Google Maps JavaScript API**: 地図表示
- **Google Maps Directions API**: ルート計算
- **Google Maps Geocoding API**: 住所⇔座標変換
- **Geolocation API**: 位置情報取得

#### 開発・運用環境
- **Docker**: コンテナ化開発
- **Git/GitHub**: バージョン管理・CI/CD
- **PHPUnit/Pest**: テストフレームワーク
- **Laravel Debugbar**: デバッグツール

### セキュリティ仕様

#### 認証・認可
- Laravel SanctumによるAPI認証
- セッション管理
- CSRF保護
- XSS対策

#### データ保護
- 入力値のサニタイズ
- SQLインジェクション対策
- 位置情報の暗号化
- プライバシー設定

### パフォーマンス仕様

#### 最適化
- データベースクエリの最適化
- キャッシュ機能
- 画像の最適化
- レスポンシブデザイン

#### スケーラビリティ
- 水平スケーリング対応
- データベースの正規化
- API設計の最適化

---

## 🗄️ データベース設計

### テーブル構成

#### 1. users テーブル（ユーザー管理）
| カラム名 | データ型 | NULL | キー | 説明 |
|----------|----------|------|------|------|
| id | BIGINT UNSIGNED | NO | PK | 主キー |
| name | VARCHAR(255) | NO | - | ユーザー名 |
| email | VARCHAR(255) | NO | UNIQUE | メールアドレス |
| email_verified_at | TIMESTAMP | YES | - | メール認証日時 |
| password | VARCHAR(255) | NO | - | パスワード（ハッシュ化） |
| remember_token | VARCHAR(100) | YES | - | ログイン保持トークン |
| created_at | TIMESTAMP | YES | - | 作成日時 |
| updated_at | TIMESTAMP | YES | - | 更新日時 |

#### 2. clients テーブル（訪問先管理）
| カラム名 | データ型 | NULL | キー | 説明 |
|----------|----------|------|------|------|
| id | BIGINT UNSIGNED | NO | PK | 主キー |
| name | VARCHAR(255) | NO | - | 会社名 |
| address | VARCHAR(255) | NO | - | 住所 |
| latitude | DECIMAL(10,8) | YES | - | 緯度 |
| longitude | DECIMAL(11,8) | YES | - | 経度 |
| phone | VARCHAR(20) | YES | - | 電話番号 |
| email | VARCHAR(255) | YES | - | メールアドレス |
| contact_person | VARCHAR(255) | YES | - | 担当者名 |
| department | VARCHAR(255) | YES | - | 部署 |
| position | VARCHAR(255) | YES | - | 役職 |
| notes | TEXT | YES | - | 備考 |
| created_at | TIMESTAMP | YES | - | 作成日時 |
| updated_at | TIMESTAMP | YES | - | 更新日時 |

#### 3. visits テーブル（訪問記録）
| カラム名 | データ型 | NULL | キー | 説明 |
|----------|----------|------|------|------|
| id | BIGINT UNSIGNED | NO | PK | 主キー |
| client_id | BIGINT UNSIGNED | NO | FK | 訪問先ID |
| user_id | BIGINT UNSIGNED | NO | FK | ユーザーID |
| appointment_id | BIGINT UNSIGNED | YES | FK | アポイントメントID |
| visited_at | DATETIME | NO | - | 訪問日時 |
| latitude | DECIMAL(10,8) | YES | - | 訪問時緯度 |
| longitude | DECIMAL(11,8) | YES | - | 訪問時経度 |
| visit_type | VARCHAR(255) | NO | - | 訪問タイプ |
| status | VARCHAR(255) | NO | - | ステータス |
| notes | TEXT | YES | - | 訪問メモ |
| created_at | TIMESTAMP | YES | - | 作成日時 |
| updated_at | TIMESTAMP | YES | - | 更新日時 |

#### 4. appointments テーブル（アポイントメント）
| カラム名 | データ型 | NULL | キー | 説明 |
|----------|----------|------|------|------|
| id | BIGINT UNSIGNED | NO | PK | 主キー |
| client_id | BIGINT UNSIGNED | NO | FK | 訪問先ID |
| user_id | BIGINT UNSIGNED | NO | FK | ユーザーID |
| title | VARCHAR(255) | NO | - | 件名 |
| visit_type | VARCHAR(255) | NO | - | 訪問タイプ |
| start_datetime | DATETIME | NO | - | 開始日時 |
| end_datetime | DATETIME | NO | - | 終了日時 |
| memo | TEXT | YES | - | 備考 |
| google_calendar_event_id | VARCHAR(255) | YES | - | GoogleカレンダーイベントID |
| created_at | TIMESTAMP | YES | - | 作成日時 |
| updated_at | TIMESTAMP | YES | - | 更新日時 |

### リレーション設計

#### 外部キー制約
- `visits.client_id` → `clients.id` (CASCADE)
- `visits.user_id` → `users.id` (RESTRICT)
- `visits.appointment_id` → `appointments.id` (SET NULL)
- `appointments.client_id` → `clients.id` (CASCADE)
- `appointments.user_id` → `users.id` (RESTRICT)

#### インデックス設計
- `clients.latitude, clients.longitude` (位置情報検索用)
- `visits.visited_at` (日付範囲検索用)
- `visits.client_id` (クライアント別検索用)
- `appointments.start_datetime` (予定検索用)

---

## 🔧 運用・保守

### システム要件

#### サーバー要件
- **OS**: Linux (Ubuntu 20.04 LTS以上)
- **Webサーバー**: Nginx 1.18以上
- **PHP**: 8.4以上
- **データベース**: MySQL 8.0以上 / MariaDB 10.6以上
- **メモリ**: 最低4GB、推奨8GB以上
- **ストレージ**: 最低20GB、推奨50GB以上

#### ブラウザ対応
- **Chrome**: 最新版
- **Firefox**: 最新版
- **Safari**: 最新版
- **Edge**: 最新版
- **モバイルブラウザ**: iOS Safari、Android Chrome

### バックアップ・復旧

#### データバックアップ
- **データベース**: 日次自動バックアップ
- **ファイル**: 週次バックアップ
- **設定ファイル**: 変更時バックアップ

#### 復旧手順
1. データベースの復元
2. ファイルの復元
3. 設定の確認
4. 動作テスト

### 監視・ログ

#### システム監視
- サーバーリソース監視
- アプリケーション監視
- データベース監視
- 外部API監視

#### ログ管理
- アクセスログ
- エラーログ
- アプリケーションログ
- セキュリティログ

### セキュリティ対策

#### 定期メンテナンス
- セキュリティパッチの適用
- 脆弱性スキャン
- パスワードポリシーの確認
- アクセス権限の見直し

#### インシデント対応
- セキュリティインシデントの検知
- 緊急対応手順
- 復旧作業
- 事後分析・改善

---

## 📊 導入効果

### 定量的効果

#### 時間効率の向上
- **移動時間削減**: ルート最適化により20-30%の時間短縮
- **記録時間短縮**: 訪問記録の自動化により50%の時間削減
- **検索時間短縮**: 一元化された情報管理により80%の時間短縮

#### コスト削減
- **交通費削減**: 最適ルートによる燃料費削減
- **人件費削減**: 効率化による業務時間短縮
- **システム統合**: 複数ツールの統合によるライセンス費削減

### 定性的効果

#### 営業活動の改善
- **計画性向上**: アポイントメント管理によるスケジュール最適化
- **情報共有**: チーム内での情報共有促進
- **顧客関係強化**: 訪問履歴の蓄積による関係性の可視化

#### データ活用の促進
- **訪問パターン分析**: 効果的な訪問タイミングの把握
- **営業戦略立案**: データに基づく意思決定
- **KPI管理**: 営業活動の可視化と改善

### ROI（投資対効果）

#### 導入コスト
- システム開発費
- サーバー・インフラ費用
- 運用・保守費用
- 教育・研修費用

#### 期待効果
- 営業効率の向上
- コスト削減
- 売上向上
- 顧客満足度向上

**予想ROI**: 導入から6-12ヶ月で投資回収

---

## ❓ FAQ

### よくある質問

#### Q1: スマートフォンでも利用できますか？
A: はい。レスポンシブデザインにより、スマートフォン、タブレット、PCすべてで最適な表示になります。

#### Q2: オフラインでも使用できますか？
A: 現在はオンライン専用ですが、将来的にオフライン機能の実装を検討しています。

#### Q3: 他のシステムとの連携は可能ですか？
A: APIを提供しているため、CRMやSFAシステムとの連携が可能です。詳細は開発チームまでお問い合わせください。

#### Q4: データのセキュリティは大丈夫ですか？
A: データの暗号化、アクセス制御、定期的なセキュリティ監査により、高いセキュリティレベルを維持しています。

#### Q5: ユーザー数に制限はありますか？
A: 基本的に制限はありませんが、大量のユーザーが同時利用する場合は、サーバーリソースの拡張が必要になる場合があります。

#### Q6: カスタマイズは可能ですか？
A: 基本的なカスタマイズは可能です。詳細な要件については、開発チームとご相談ください。

#### Q7: サポート体制はどうなっていますか？
A: メールサポート、電話サポート、オンサイトサポートを提供しています。サポートレベルに応じて料金が異なります。

#### Q8: アップデートの頻度はどのくらいですか？
A: 月1回の定期アップデートと、必要に応じた緊急アップデートを実施しています。

---

## 📞 お問い合わせ

### 開発チーム連絡先
- **メール**: support@routego.example.com
- **電話**: 03-XXXX-XXXX
- **営業時間**: 平日 9:00-18:00

### 技術サポート
- **メール**: tech-support@routego.example.com
- **緊急時**: emergency@routego.example.com

### 資料・ドキュメント
- **ユーザーマニュアル**: [URL]
- **API仕様書**: [URL]
- **セットアップガイド**: [URL]

---

*本資料は Route GO の詳細仕様をまとめたものです。最新の情報については、開発チームまでお問い合わせください。*

**最終更新日**: 2024年12月
**バージョン**: 1.0
