---
marp: true
---

# Route GO
## 営業向け訪問先管理アプリ

---

## 📋 目次

1. [アプリ概要](#アプリ概要)
2. [主要機能](#主要機能)
3. [技術仕様](#技術仕様)
4. [データベース設計](#データベース設計)
5. [画面構成](#画面構成)
6. [特徴的な機能](#特徴的な機能)
7. [今後の展開](#今後の展開)

---

## 🎯 アプリ概要

### コンセプト
**営業活動を効率化する訪問先管理システム**

営業担当者が訪問先の管理、訪問記録の蓄積、ルート最適化を一元化できるWebアプリケーションです。

### 解決する課題
- 📍 訪問先情報の散在
- 📝 訪問記録の管理不足
- 🗺️ 効率的なルート計画の困難
- ⏰ アポイントメント管理
- 📊 営業活動の可視化不足

---

## 🚀 主要機能

### 1. 訪問先管理
- **クライアント情報登録**
  - 会社名、住所、連絡先
  - 担当者情報（氏名、部署、役職）
  - 緯度・経度情報（地図連携用）
  - 備考・特記事項

### 2. 訪問記録管理
- **訪問履歴の記録**
  - 訪問日時、訪問タイプ（訪問/電話/オンライン）
  - 訪問ステータス（完了/予定/キャンセル/延期）
  - 訪問メモ・商談内容

### 3. アポイントメント管理
- **予定管理機能**
  - アポイントメントの作成・編集・削除
  - 開始・終了時間の設定(滞在時間設定機能搭載)
  - 件名・備考の記録

### 4. ルート最適化
- **効率的な訪問計画**
  - 複数訪問先の選択
  - 最適ルートの自動計算
  - 総距離・所要時間の表示
  - Googleマップ連携

### 5. 位置情報トラッキング
- **リアルタイム位置追跡**
  - GPS位置情報の取得
  - 訪問時の自動位置記録
  - 位置精度の表示
  - 追跡開始/停止機能

---

## 💻 技術仕様

### 外部API連携
- **Google Maps JavaScript API** - 地図表示
- **Google Maps Directions API** - ルート計算
- **Google Maps Geocoding API** - 住所⇔座標変換
- **Geolocation API** - 位置情報取得

---

## 🗄️ データベース設計

### 主要テーブル

#### 1. clients テーブル（訪問先）
| カラム名 | データ型 | 説明 |
|----------|----------|------|
| id | BIGINT | 主キー |
| name | VARCHAR(255) | 会社名 |
| address | VARCHAR(255) | 住所 |
| latitude | DECIMAL(10,8) | 緯度 |
| longitude | DECIMAL(11,8) | 経度 |
| phone | VARCHAR(20) | 電話番号 |
| email | VARCHAR(255) | メールアドレス |
| contact_person | VARCHAR(255) | 担当者名 |
| department | VARCHAR(255) | 部署 |
| position | VARCHAR(255) | 役職 |
| notes | TEXT | 備考 |

#### 2. visits テーブル（訪問記録）
| カラム名 | データ型 | 説明 |
|----------|----------|------|
| id | BIGINT | 主キー |
| client_id | BIGINT | 訪問先ID（外部キー） |
| user_id | BIGINT | ユーザーID（外部キー） |
| appointment_id | BIGINT | アポイントメントID（外部キー） |
| visited_at | DATETIME | 訪問日時 |
| latitude | DECIMAL(10,8) | 訪問時緯度 |
| longitude | DECIMAL(11,8) | 訪問時経度 |
| visit_type | VARCHAR(255) | 訪問タイプ |
| status | VARCHAR(255) | ステータス |
| notes | TEXT | 訪問メモ |

#### 3. appointments テーブル（アポイントメント）
| カラム名 | データ型 | 説明 |
|----------|----------|------|
| id | BIGINT | 主キー |
| client_id | BIGINT | 訪問先ID（外部キー） |
| user_id | BIGINT | ユーザーID（外部キー） |
| title | VARCHAR(255) | 件名 |
| visit_type | VARCHAR(255) | 訪問タイプ |
| start_datetime | DATETIME | 開始日時 |
| end_datetime | DATETIME | 終了日時 |
| memo | TEXT | 備考 |
| google_calendar_event_id | VARCHAR(255) | GoogleカレンダーイベントID |

---

## 🖥️ 画面構成

### メイン画面
1. **ダッシュボード** (`/`)
   - 営業管理システムのメイン画面
   - 訪問先一覧とルート作成のタブ切り替え

2. **訪問先一覧** (`/clients`)
   - クライアント一覧表示
   - 検索・ソート機能
   - 距離順ソート（現在地基準）

3. **訪問先詳細** (`/clients/{id}`)
   - クライアント詳細情報
   - 訪問履歴一覧
   - 新規訪問記録作成

### 管理画面
4. **訪問先作成** (`/clients/create`)
   - 新規クライアント登録
   - 地図による住所選択

5. **訪問記録作成** (`/clients/{id}/visits/create`)
   - 訪問記録の入力
   - 位置情報の自動取得

6. **アポイントメント管理** (`/appointments`)
   - アポイントメント一覧
   - 新規作成・編集

### 特殊機能画面
7. **ルート最適化** (`/route`)
   - 訪問先選択
   - 最適ルート計算
   - Googleマップ連携

8. **位置情報トラッカー**
   - リアルタイム位置追跡
   - 訪問記録への位置情報記録

---

## ⭐ 特徴的な機能

### 1. リアルタイム位置追跡
```javascript
// GPS位置情報の自動取得
navigator.geolocation.watchPosition(
    position => {
        // 位置情報をサーバーに送信
        @this.updateLocation(
            position.coords.latitude,
            position.coords.longitude,
            position.coords.accuracy
        );
    }
);
```

### 2. ルート最適化アルゴリズム
```php
// 最適ルート計算（最近隣法）
public function optimize(array $waypoints): array
{
    // 現在地から最も近い地点を順次選択
    // 総距離・所要時間を計算
    // 最適化されたルートを返却
}
```

### 3. レスポンシブデザイン
- モバイルファースト設計
- タブレット・デスクトップ対応
- タッチ操作最適化

### 4. リアクティブUI
- Livewire Voltによる状態管理
- リアルタイム更新
- 非同期処理

---

## 🔮 今後の展開

### 実装済み機能 ✅
- [x] 訪問先管理基本機能
- [x] 訪問記録管理システム
- [x] アポイントメント管理
- [x] Google Maps APIによる地図表示
- [x] ルート最適化（基本機能）
- [x] リアルタイム位置情報トラッキング
- [x] レスポンシブデザイン対応

### 実装中機能 🚧
- [ ] Googleカレンダー連携
- [ ] 訪問記録のCSVエクスポート
- [ ] 営業レポート自動生成
- [ ] プッシュ通知システム

### 今後の計画 🎯
- [ ] チーム管理・権限設定
- [ ] 営業目標管理ダッシュボード
- [ ] AIによる最適ルート提案
- [ ] モバイルアプリ開発（iOS/Android）
- [ ] 他システム連携（CRM/SFA）

---

## 📊 期待効果

### 営業効率の向上
- **時間短縮**: ルート最適化により移動時間を20-30%削減
- **記録の一元化**: 訪問履歴の可視化で営業活動を把握
- **計画性向上**: アポイントメント管理でスケジュール最適化

### データ活用の促進
- **訪問パターン分析**: 効果的な訪問タイミングの把握
- **顧客関係管理**: 訪問履歴による関係性の可視化
- **営業戦略立案**: データに基づく意思決定

### ユーザビリティの向上
- **直感的操作**: シンプルなUI/UX
- **モバイル対応**: 外出先での利用可能
- **リアルタイム更新**: 最新情報の即座反映

---

## 🎉 まとめ

**Route App**は、営業活動の効率化とデータ活用を実現する包括的な訪問先管理システムです。

### 主な価値提供
- ✅ **効率性**: ルート最適化による移動時間の20-30%削減
- ✅ **可視化**: リアルタイムな訪問活動の追跡と管理
- ✅ **利便性**: 直感的なUI/UXとモバイルファースト設計
- ✅ **拡張性**: モジュール化された設計による機能拡張の容易さ

### 技術的特徴
- 🚀 **最新技術スタック**: Laravel 12.x + Livewire Volt + TailwindCSS
- 🎨 **モダンアーキテクチャ**: コンポーネントベース設計
- 📱 **クロスプラットフォーム**: あらゆるデバイスで最適な表示
- 🔧 **高い保守性**: PSR-12準拠のクリーンコード
- 🔒 **堅牢なセキュリティ**: Laravel Sanctumによる認証基盤

営業担当者の日々の業務をサポートし、より効果的な営業活動を実現するツールとして、Route Appをご活用ください。

---

*本資料は Route App の機能概要をまとめたものです。詳細な仕様については、開発チームまでお問い合わせください。*
